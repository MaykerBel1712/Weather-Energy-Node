"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[659],{98910:(e,a,t)=>{t.d(a,{XN:()=>c,oi:()=>i,_U:()=>l});var n=t(49904),o=t(38698);let r=(0,n.Wp)({apiKey:"AIzaSyADKMpJWBlT8VtQbGcQ7II07ufsBrCLpl4",authDomain:"prueba-74889.firebaseapp.com",databaseURL:"https://prueba-74889-default-rtdb.firebaseio.com",projectId:"prueba-74889",storageBucket:"prueba-74889.appspot.com",messagingSenderId:"348761305785",appId:"1:348761305785:web:6887e9374787c899246168",measurementId:"G-64192M2X0B"}),s=(0,o.C3)(r);var d=t(12115);function i(){let[e,a]=d.useState([]);return d.useEffect(()=>{let e=(0,o.KR)(s,"/Estacion_Meteorologica");(0,o.Zy)(e,e=>{if(e.exists()){let t=e.val();a(Object.keys(t).map(e=>({timestamp:t[e].timestamp,MassConcentrationPm1p0:t[e].MassConcentrationPm1p0,MassConcentrationPm2p5:t[e].MassConcentrationPm2p5,MassConcentrationPm4p0:t[e].MassConcentrationPm4p0,MassConcentrationPm10p0:t[e].MassConcentrationPm10p0,AmbientHumidity:t[e].AmbientHumidity,AmbientTemperature:t[e].AmbientTemperature,VocIndex:t[e].VocIndex,NoxIndex:t[e].NoxIndex,Irradiance:t[e].Irradiance,WindSpeed:t[e].WindSpeed})))}else console.error("No existen datos en la base de datos.")})},[]),e}function l(){let[e,a]=d.useState([]);return d.useEffect(()=>{let e=(0,o.KR)(s,"/EstacionEnergetica");(0,o.Zy)(e,e=>{if(e.exists()){let t=e.val();a(Object.keys(t).map(e=>({timestamp:t[e].timestamp,Demanda_I1:t[e].Demanda_I1,Demanda_I2:t[e].Demanda_I2,Demanda_I3:t[e].Demanda_I3,Demanda_Max_I1:t[e].Demanda_Max_I1,Demanda_Max_I2:t[e].Demanda_Max_I2,Demanda_Max_I3:t[e].Demanda_Max_I3,Demanda_Max_PTS_VA:t[e].Demanda_Max_PTS_VA,Demanda_PTS_W:t[e].Demanda_PTS_W,Demanda_TS_VA:t[e].Demanda_TS_VA,ETE:t[e].ETE,ETI:t[e].ETI,F:t[e].F,FP1:t[e].FP1,FP2:t[e].FP2,FP3:t[e].FP3,FPT:t[e].FPT,I1:t[e].I1,I2:t[e].I2,I3:t[e].I3,IN:t[e].IN,ITHD_1:t[e].ITHD_1,ITHD_2:t[e].ITHD_2,ITHD_3:t[e].ITHD_3,ITHD_Prom:t[e].ITHD_Prom,PA1:t[e].PA1,PA2:t[e].PA2,PA3:t[e].PA3,PAT:t[e].PAT,PR1:t[e].PR1,PR2:t[e].PR2,PR3:t[e].PR3,PRT:t[e].PRT,Prom_I_L:t[e].Prom_I_L,Prom_VTHD_LN:t[e].Prom_VTHD_LN,Prom_VTHD_L_L:t[e].Prom_VTHD_L_L,Prom_volts_L_N:t[e].Prom_volts_L_N,Suma_I_L:t[e].Suma_I_L,T_Ah:t[e].T_Ah,T_KVAh:t[e].T_KVAh,Tkvarh:t[e].Tkvarh,Tkwh:t[e].Tkwh,V1:t[e].V1,V2:t[e].V2,V3:t[e].V3,VA1:t[e].VA1,VA2:t[e].VA2,VA3:t[e].VA3,VAT:t[e].VAT,VTHD_1_2:t[e].VTHD_1_2,VTHD_2_3:t[e].VTHD_2_3,VTHD_3_1:t[e].VTHD_3_1,VTHD_LN_1:t[e].VTHD_LN_1,VTHD_LN_2:t[e].VTHD_LN_2,VTHD_LN_3:t[e].VTHD_LN_3,V_1_2:t[e].V_1_2,V_2_3:t[e].V_2_3,V_3_1:t[e].V_3_1,V_prom_L_L:t[e].V_prom_L_L,kVArhTE:t[e].kVArhTE,kVArhTI:t[e].kVArhTI})))}else console.error("No existen datos en la base de datos para EstacionEnergetica.")})},[]),e}async function c(e,a,t){if("estacionmeteorologica"===e||"estacionenergetica"===e){let n="data:text/csv;charset=utf-8,";"estacionmeteorologica"===e?n+="Timestamp,MassConcentrationPm1p0,MassConcentrationPm2p5,MassConcentrationPm4p0,MassConcentrationPm10p0,AmbientHumidity,AmbientTemperature,VocIndex,NoxIndex,Irradiance,WindSpeed\n":"estacionenergetica"===e&&(n+="Timestamp,Demanda_I1,Demanda_I2,Demanda_I3,Demanda_Max_I1,Demanda_Max_I2,Demanda_Max_I3,Demanda_Max_PTS_VA,Demanda_PTS_W,Demanda_TS_VA,ETE,ETI,F,FP1,FP2,FP3,FPT,I1,I2,I3,IN,ITHD_1,ITHD_2,ITHD_3,ITHD_Prom,PA1,PA2,PA3,PAT,PR1,PR2,PR3,PRT,Prom_I_L,Prom_VTHD_LN,Prom_VTHD_L_L,Prom_volts_L_N,Suma_I_L,T_Ah,T_KVAh,Tkvarh,Tkwh,V1,V2,V3,VA1,VA2,VA3,VAT,VTHD_1_2,VTHD_2_3,VTHD_3_1,VTHD_LN_1,VTHD_LN_2,VTHD_LN_3,V_1_2,V_2_3,V_3_1,V_prom_L_L,kVArhTE,kVArhTI\n");let r="estacionmeteorologica"===e?(0,o.KR)(s,"/Estacion_Meteorologica"):(0,o.KR)(s,"/EstacionEnergetica"),d=await (0,o.Jt)(r);if(d.exists()){let o=d.val();for(let r in o){let s=new Date(o[r].timestamp);if(s>=a&&s<=t){let a=[o[r].timestamp];"estacionmeteorologica"===e?a.push(o[r].MassConcentrationPm1p0,o[r].MassConcentrationPm2p5,o[r].MassConcentrationPm4p0,o[r].MassConcentrationPm10p0,o[r].AmbientHumidity,o[r].AmbientTemperature,o[r].VocIndex,o[r].NoxIndex,o[r].Irradiance,o[r].WindSpeed):"estacionenergetica"===e&&a.push(o[r].Demanda_I1,o[r].Demanda_I2,o[r].Demanda_I3,o[r].Demanda_Max_I1,o[r].Demanda_Max_I2,o[r].Demanda_Max_I3,o[r].Demanda_Max_PTS_VA,o[r].Demanda_PTS_W,o[r].Demanda_TS_VA,o[r].ETE,o[r].ETI,o[r].F,o[r].FP1,o[r].FP2,o[r].FP3,o[r].FPT,o[r].I1,o[r].I2,o[r].I3,o[r].IN,o[r].ITHD_1,o[r].ITHD_2,o[r].ITHD_3,o[r].ITHD_Prom,o[r].PA1,o[r].PA2,o[r].PA3,o[r].PAT,o[r].PR1,o[r].PR2,o[r].PR3,o[r].PRT,o[r].Prom_I_L,o[r].Prom_VTHD_LN,o[r].Prom_VTHD_L_L,o[r].Prom_volts_L_N,o[r].Suma_I_L,o[r].T_Ah,o[r].T_KVAh,o[r].Tkvarh,o[r].Tkwh,o[r].V1,o[r].V2,o[r].V3,o[r].VA1,o[r].VA2,o[r].VA3,o[r].VAT,o[r].VTHD_1_2,o[r].VTHD_2_3,o[r].VTHD_3_1,o[r].VTHD_LN_1,o[r].VTHD_LN_2,o[r].VTHD_LN_3,o[r].V_1_2,o[r].V_2_3,o[r].V_3_1,o[r].V_prom_L_L,o[r].kVArhTE,o[r].kVArhTI),n+=a.join(",")+"\n"}}}else console.error("No hay datos disponibles para descargar (".concat(e,")."));((e,a)=>{let t=encodeURI(a),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",e),document.body.appendChild(n),n.click(),document.body.removeChild(n)})("".concat(e,".csv"),n)}else"ambas"===e&&(await c("estacionmeteorologica",a,t),await c("estacionenergetica",a,t))}},78579:(e,a,t)=>{t.d(a,{x:()=>V});var n=t(95155),o=t(12115),r=t(40767),s=t(15800),d=t(73312),i=t(7859),l=t(20853),c=t(21567);function m(e){let{className:a,...t}=e;return(0,n.jsx)(i.uB,{"data-slot":"command",className:(0,c.cn)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",a),...t})}function u(e){let{className:a,...t}=e;return(0,n.jsxs)("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[(0,n.jsx)(l.A,{className:"size-4 shrink-0 opacity-50"}),(0,n.jsx)(i.uB.Input,{"data-slot":"command-input",className:(0,c.cn)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",a),...t})]})}function _(e){let{className:a,...t}=e;return(0,n.jsx)(i.uB.List,{"data-slot":"command-list",className:(0,c.cn)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",a),...t})}function p(e){let{...a}=e;return(0,n.jsx)(i.uB.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...a})}function x(e){let{className:a,...t}=e;return(0,n.jsx)(i.uB.Group,{"data-slot":"command-group",className:(0,c.cn)("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",a),...t})}function g(e){let{className:a,...t}=e;return(0,n.jsx)(i.uB.Item,{"data-slot":"command-item",className:(0,c.cn)("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...t})}t(51344);var f=t(89095),h=t(43415),v=t(29161),T=t(98867);function b(e){let{className:a,...t}=e;return(0,n.jsx)(v.bL,{"data-slot":"checkbox",className:(0,c.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...t,children:(0,n.jsx)(v.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,n.jsx)(T.A,{className:"size-3.5"})})})}function V(e){let{items:a,onSelectionChange:t}=e,[i,l]=o.useState(!1),[c,h]=o.useState([]),v=e=>{let a=c.includes(e)?c.filter(a=>a!==e):[...c,e];h(a),t(a)},T=e=>{let a=c.filter(a=>a!==e);h(a),t(a)};return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{className:"flex flex-col gap-2",children:c.map(e=>{var t;return(0,n.jsxs)("div",{className:"flex items-center justify-between gap-2 rounded-md bg-gray-200 px-3 py-1 text-sm",children:[(0,n.jsx)("span",{children:null===(t=a.find(a=>a.value===e))||void 0===t?void 0:t.label}),(0,n.jsx)("button",{onClick:()=>T(e),className:"text-gray-400 hover:text-gray-600",children:(0,n.jsx)(r.A,{className:"h-4 w-4"})})]},e)})}),(0,n.jsxs)(f.AM,{open:i,onOpenChange:l,children:[(0,n.jsx)(f.Wv,{asChild:!0,children:(0,n.jsxs)(d.$,{variant:"outline",role:"combobox","aria-expanded":i,className:"w-[200px] justify-between",children:[c.length>0?"Selected items":"Select items...",(0,n.jsx)(s.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,n.jsx)(f.hl,{className:"w-[200px] p-0",children:(0,n.jsxs)(m,{children:[(0,n.jsx)(u,{placeholder:"Search items..."}),(0,n.jsxs)(_,{children:[(0,n.jsx)(p,{children:"No items found."}),(0,n.jsx)(x,{children:a.map(e=>(0,n.jsx)(g,{value:e.value,children:(0,n.jsxs)("label",{className:"flex items-center gap-2",children:[(0,n.jsx)(b,{checked:c.includes(e.value),onCheckedChange:()=>v(e.value)}),e.label]})},e.value))})]})]})})]})]})}h.z.object({language:h.z.string({required_error:"Please select a language."})})},73312:(e,a,t)=>{t.d(a,{$:()=>i,r:()=>d});var n=t(95155);t(12115);var o=t(14707),r=t(31027),s=t(21567);let d=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function i(e){let{className:a,variant:t,size:r,asChild:i=!1,...l}=e,c=i?o.DX:"button";return(0,n.jsx)(c,{"data-slot":"button",className:(0,s.cn)(d({variant:t,size:r,className:a})),...l})}},22130:(e,a,t)=>{t.d(a,{BT:()=>i,Wu:()=>l,ZB:()=>d,Zp:()=>r,aR:()=>s,wL:()=>c});var n=t(95155);t(12115);var o=t(21567);function r(e){let{className:a,...t}=e;return(0,n.jsx)("div",{"data-slot":"card",className:(0,o.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...t})}function s(e){let{className:a,...t}=e;return(0,n.jsx)("div",{"data-slot":"card-header",className:(0,o.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...t})}function d(e){let{className:a,...t}=e;return(0,n.jsx)("div",{"data-slot":"card-title",className:(0,o.cn)("leading-none font-semibold",a),...t})}function i(e){let{className:a,...t}=e;return(0,n.jsx)("div",{"data-slot":"card-description",className:(0,o.cn)("text-muted-foreground text-sm",a),...t})}function l(e){let{className:a,...t}=e;return(0,n.jsx)("div",{"data-slot":"card-content",className:(0,o.cn)("px-6",a),...t})}function c(e){let{className:a,...t}=e;return(0,n.jsx)("div",{"data-slot":"card-footer",className:(0,o.cn)("flex items-center px-6 [.border-t]:pt-6",a),...t})}},51344:(e,a,t)=>{t.d(a,{Dialog:()=>d,DialogContent:()=>m,DialogHeader:()=>u,DialogTitle:()=>p,DialogTrigger:()=>i,Es:()=>_,rr:()=>x});var n=t(95155);t(12115);var o=t(53385),r=t(40767),s=t(21567);function d(e){let{...a}=e;return(0,n.jsx)(o.bL,{"data-slot":"dialog",...a})}function i(e){let{...a}=e;return(0,n.jsx)(o.l9,{"data-slot":"dialog-trigger",...a})}function l(e){let{...a}=e;return(0,n.jsx)(o.ZL,{"data-slot":"dialog-portal",...a})}function c(e){let{className:a,...t}=e;return(0,n.jsx)(o.hJ,{"data-slot":"dialog-overlay",className:(0,s.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...t})}function m(e){let{className:a,children:t,...d}=e;return(0,n.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,n.jsx)(c,{}),(0,n.jsxs)(o.UC,{"data-slot":"dialog-content",className:(0,s.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...d,children:[t,(0,n.jsxs)(o.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,n.jsx)(r.A,{}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u(e){let{className:a,...t}=e;return(0,n.jsx)("div",{"data-slot":"dialog-header",className:(0,s.cn)("flex flex-col gap-2 text-center sm:text-left",a),...t})}function _(e){let{className:a,...t}=e;return(0,n.jsx)("div",{"data-slot":"dialog-footer",className:(0,s.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...t})}function p(e){let{className:a,...t}=e;return(0,n.jsx)(o.hE,{"data-slot":"dialog-title",className:(0,s.cn)("text-lg leading-none font-semibold",a),...t})}function x(e){let{className:a,...t}=e;return(0,n.jsx)(o.VY,{"data-slot":"dialog-description",className:(0,s.cn)("text-muted-foreground text-sm",a),...t})}},89095:(e,a,t)=>{t.d(a,{AM:()=>s,Wv:()=>d,hl:()=>i});var n=t(95155);t(12115);var o=t(96269),r=t(21567);function s(e){let{...a}=e;return(0,n.jsx)(o.bL,{"data-slot":"popover",...a})}function d(e){let{...a}=e;return(0,n.jsx)(o.l9,{"data-slot":"popover-trigger",...a})}function i(e){let{className:a,align:t="center",sideOffset:s=4,...d}=e;return(0,n.jsx)(o.ZL,{children:(0,n.jsx)(o.UC,{"data-slot":"popover-content",align:t,sideOffset:s,className:(0,r.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",a),...d})})}},21567:(e,a,t)=>{t.d(a,{cn:()=>r});var n=t(43463),o=t(69795);function r(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,o.QP)((0,n.$)(a))}}}]);